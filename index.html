<!DOCTYPE html>

<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>KinoPoiskID</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet"/>
<script>
        // Функция для открытия плеера
        function openPlayer() {
            let kpId = document.getElementById("kpIdInput").value;
            if (!kpId) {
                alert("Пожалуйста, введите ID Кинопоиска");
                return;
            }
            let iframeSrc = "https://api1690380040.atomics.ws/embed/kp/" + kpId;
            document.getElementById("playerIframe").src = iframeSrc;
            document.getElementById("playerModal").style.display = "flex";
        }

        // Функция для закрытия плеера
        function closePlayer() {
            document.getElementById("playerModal").style.display = "none";
            document.getElementById("playerIframe").src = ""; // Очищаем iframe при закрытии
        }

        // Функция для поиска фильмов/сериалов по названию
        async function searchContent() {
            const searchInput = document.getElementById("searchInput").value.trim();
            const resultsContainer = document.getElementById("searchResults");
            
            if (!searchInput) {
                alert("Пожалуйста, введите название фильма или сериала");
                return;
            }
            
            // Показываем индикатор загрузки
            resultsContainer.innerHTML = '<div class="loading">Поиск...</div>';
            
            try {
                // Используем альтернативный прокси для обхода CORS
                const apiUrl = `https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${encodeURIComponent(searchInput)}&page=1`;
                
                const response = await fetch(apiUrl, {
                    headers: {
                        'X-API-KEY': '960dc4e3-9eae-4072-8f0c-98a5ed6c0d2a',
                        'Content-Type': 'application/json',
                    }
                });
                
                if (!response.ok) {
                    throw new Error('Ошибка при поиске. Статус: ' + response.status);
                }
                
                const data = await response.json();
                displayResults(data.films);
            } catch (error) {
                console.error('Ошибка:', error);
                resultsContainer.innerHTML = '<div class="error">Произошла ошибка при поиске. Попробуйте еще раз.</div>';
            }
        }

        // Функция для отображения результатов поиска
        function displayResults(films) {
            const resultsContainer = document.getElementById("searchResults");
            
            if (!films || films.length === 0) {
                resultsContainer.innerHTML = '<div class="no-results">Ничего не найдено</div>';
                return;
            }
            
            let html = '<div class="results-title">Результаты поиска:</div>';
            
            films.slice(0, 5).forEach(film => {
                html += `
                    <div class="film-item" onclick="selectFilm(${film.filmId}, '${film.nameRu || film.nameEn}')">
                        <div class="film-poster">
                            <img src="${film.posterUrlPreview || 'https://via.placeholder.com/100x150'}" alt="${film.nameRu || film.nameEn}">
                        </div>
                        <div class="film-info">
                            <div class="film-title">${film.nameRu || film.nameEn}</div>
                            <div class="film-year">${film.year || 'Год неизвестен'}</div>
                            <div class="film-rating">Рейтинг: ${film.rating || 'нет'}</div>
                        </div>
                    </div>
                `;
            });
            
            resultsContainer.innerHTML = html;
        }

        // Функция для выбора фильма из результатов поиска
        function selectFilm(filmId, filmTitle) {
            document.getElementById("kpIdInput").value = filmId;
            document.getElementById("selectedFilm").textContent = `Выбран: ${filmTitle} (ID: ${filmId})`;
            document.getElementById("searchResults").innerHTML = '';
            document.getElementById("searchInput").value = '';
        }

        // Функция для очистки результатов поиска
        function clearSearch() {
            document.getElementById("searchResults").innerHTML = '';
            document.getElementById("searchInput").value = '';
        }
    

// Выбор фильма и сразу запуск плеера
function selectAndPlay(filmId, filmTitle) {
    document.getElementById("kpIdInput").value = filmId;
    document.getElementById("selectedFilm").textContent = `Выбран: ${filmTitle} (ID: ${filmId})`;
    openPlayer(); // сразу открывает плеер
}


function filterCategory(category) {
    document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
    document.querySelectorAll('.catalog-category').forEach(cat => {
        if (category === 'all') {
            cat.classList.add('active');
        } else {
            cat.classList.remove('active');
            if (cat.classList.contains(category)) {
                cat.classList.add('active');
            }
        }
    });
}


let _topFilmsLoading = false;
async function getTopFilms() {
    if (_topFilmsLoading) return;
    _topFilmsLoading = true;
    const container = document.getElementById('topFilms');
    container.innerHTML = '<div class="loading">Загружаем популярные фильмы…</div>';
    const progressEl = document.createElement('div');
    progressEl.className = 'sticky-progress';
    progressEl.textContent = 'Страница 1 из 20';
    container.before(progressEl);

    const totalPages = 20; // 20×50 = 1000
    const filmsAll = [];
    container.innerHTML = '';

    for (let page = 1; page <= totalPages; page++) {
        try {
            const resp = await fetch(`https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=${page}`, {
                headers: {
                    'X-API-KEY': '960dc4e3-9eae-4072-8f0c-98a5ed6c0d2a',
                    'Content-Type': 'application/json',
                }
            });
            if (!resp.ok) throw new Error('API error ' + resp.status);
            const data = await resp.json();
            const films = data.films || data.items || [];
            filmsAll.push(...films);

            // Прогрессивный рендер текущей страницы
            const fragment = document.createDocumentFragment();
            films.forEach(film => {
                const div = document.createElement('div');
                div.className = 'catalog-item';
                const name = film.nameRu || film.nameEn || film.nameOriginal || 'Без названия';
                const poster = film.posterUrlPreview || film.posterUrl || 'https://via.placeholder.com/160x240?text=No+Image';
                const year = film.year || '';
                const rating = film.rating || film.ratingKinopoisk || '';
                const id = film.filmId || film.kinopoiskId || film.id;
                div.onclick = () => selectAndPlay(id, name);
                div.innerHTML = `
                    <img src="${poster}" alt="${name}">
                    <div class="catalog-info">
                        <div class="catalog-title-item">${name}</div>
                        <div class="catalog-year">${year}</div>
                        <div class="catalog-rating">${rating ? ('⭐ ' + rating) : ''}</div>
                    </div>`;
                fragment.appendChild(div);
            });
            container.appendChild(fragment);
            progressEl.textContent = `Страница ${page} из ${totalPages} (всего ${filmsAll.length})`;
        } catch (e) {
            console.error(e);
            const err = document.createElement('div');
            err.className = 'error';
            err.textContent = 'Ошибка загрузки популярного списка. Проверьте API-ключ.';
            container.appendChild(err);
            break;
        }
    }
    _topFilmsLoading = false;
}

function clearTopFilms() {
    const container = document.getElementById('topFilms');
    container.innerHTML = '';
    const pr = document.querySelector('.sticky-progress');
    if (pr) pr.remove();
}
</script>
<style>
        /* Все стили остаются без изменений */
        body {
            font-family: sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        input[type="text"] {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-bottom: 10px;
            width: 300px;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            width: 80%;
            max-width: 800px;
            position: relative;
        }

        .close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 20px;
            cursor: pointer;
        }

        iframe {
            width: 100%;
            height: 450px;
        }

        /* Общие стили */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: #0a0a0a;
            min-height: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 20px;
            position: relative;
            color: #fff;
        }

        /* Анимированный фон */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(circle at 25% 25%, #4CAF50 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, #00BCD4 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, #9C27B0 0%, transparent 50%);
            filter: blur(120px);
            opacity: 0.4;
            animation: backgroundShift 12s ease-in-out infinite alternate;
            z-index: -1;
        }

        @keyframes backgroundShift {
            0% { transform: scale(1) rotate(0deg); }
            100% { transform: scale(1.1) rotate(8deg); }
        }

        /* Падающие частицы */
        .particle {
            position: absolute;
            width: 5px;
            height: 5px;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.3));
            border-radius: 50%;
            animation: float 18s linear infinite;
        }

        .particle:nth-child(1) { left: 10%; animation-delay: 1s; animation-duration: 16s; }
        .particle:nth-child(2) { left: 20%; animation-delay: 3s; animation-duration: 17s; }
        .particle:nth-child(3) { left: 30%; animation-delay: 5s; animation-duration: 15s; }
        .particle:nth-child(4) { left: 40%; animation-delay: 7s; animation-duration: 16s; }
        .particle:nth-child(5) { left: 50%; animation-delay: 9s; animation-duration: 18s; }
        .particle:nth-child(6) { left: 60%; animation-delay: 11s; animation-duration: 17s; }
        .particle:nth-child(7) { left: 70%; animation-delay: 13s; animation-duration: 15s; }
        .particle:nth-child(8) { left: 80%; animation-delay: 15s; animation-duration: 16s; }

        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }

        /* Контейнер для содержимого */
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            z-index: 10;
            width: 100%;
            max-width: 550px;
        }

        /* Предупреждающий контейнер */
        .warning-container {
            background: rgba(30, 30, 30, 0.7);
            backdrop-filter: blur(40px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 28px;
            width: 100%;
            padding: 45px 40px;
            text-align: center;
            position: relative;
            box-shadow:
                0 30px 60px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .warning-container:hover {
            transform: translateY(-5px);
            box-shadow:
                0 35px 70px rgba(0, 0, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .warning-container::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 92%;
            height: 82%;
            border-radius: 28px;
            background: rgba(0, 0, 0, 0.2);
            filter: blur(35px);
            z-index: -1;
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.95);
            transition: opacity 0.4s, transform 0.4s;
        }

        .warning-container:hover::after {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .warning-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #4CAF50, #00BCD4, #9C27B0, #4CAF50);
            background-size: 400% 100%;
            animation: gradientMove 4s linear infinite;
            border-radius: 28px 28px 0 0;
        }

        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            100% { background-position: 400% 50%; }
        }

        /* Иконка предупреждения */
        .warning-icon {
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, #4CAF50, #00BCD4);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            position: relative;
            box-shadow:
                0 0 35px rgba(76, 175, 80, 0.6),
                0 0 70px rgba(0, 188, 212, 0.4);
            animation: iconPulse 2.5s ease-in-out infinite;
        }

        @keyframes iconPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .warning-icon::before {
            content: '';
            position: absolute;
            top: -12px;
            left: -12px;
            right: -12px;
            bottom: -12px;
            background: linear-gradient(45deg, #4CAF50, #00BCD4, #9C27B0);
            border-radius: 50%;
            z-index: -1;
            filter: blur(18px);
            opacity: 0.8;
            animation: iconGlow 2.5s ease-in-out infinite alternate;
        }

        @keyframes iconGlow {
            0% { opacity: 0.8; transform: scale(1); }
            100% { opacity: 1; transform: scale(1.1); }
        }

        .warning-icon svg {
            width: 40px;
            height: 40px;
            color: white;
            filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.6));
        }

        /* Заголовок предупреждения */
        .warning-title {
            font-size: 32px;
            font-weight: 800;
            background: linear-gradient(135deg, #4CAF50, #00BCD4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 25px;
            letter-spacing: -0.8px;
            text-shadow: 0 0 35px rgba(76, 175, 80, 0.6);
            animation: titleShine 3.5s ease-in-out infinite;
        }

        @keyframes titleShine {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
        }

        /* Текст предупреждения */
        .warning-text {
            font-size: 17px;
            line-height: 1.7;
            color: rgba(255, 255, 255, 0.95);
            margin-bottom: 30px;
            text-shadow: 0 2px 12px rgba(0, 0, 0, 0.4);
        }

        /* Контейнер для ссылки */
        .link-container {
            background: rgba(30, 30, 30, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 22px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .link-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
            animation: shimmer 3.5s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .link-label {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            margin-bottom: 12px;
        }

        .link-url {
            font-family: 'Monaco', monospace;
            font-size: 15px;
            color: #00BCD4;
            word-break: break-all;
            background: rgba(0, 188, 212, 0.1);
            padding: 14px 18px;
            border-radius: 14px;
            border: 1px solid rgba(0, 188, 212, 0.4);
            text-shadow: 0 0 12px rgba(0, 188, 212, 0.6);
        }

        /* Группа кнопок */
        .button-group {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        /* Кнопки */
         .btn {
            padding: 14px 30px;
            border-radius: 30px;
            font-size: 15px;
            font-weight: 500;
            transition: all 0.25s ease-in-out;
            box-shadow: 0 5px 8px rgba(0,0,0,0.15);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: buttonShimmer 2s infinite linear;
            transform: translateX(-100%);
            transition: none;
            z-index: -1;
        }

        .btn:hover::before {
            animation: buttonShimmer 2s infinite linear;
            transform: translateX(0);
        }

        @keyframes buttonShimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #4CAF50, #9C27B0);
            color: white;
            box-shadow:
                0 12px 30px rgba(76, 175, 80, 0.5),
                0 0 25px rgba(156, 39, 176, 0.4);
            border: none;
            overflow: hidden;
            position: relative;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.08);
            color: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(12px);
            position: relative;
            overflow: hidden;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        /* Советы безопасности */
        .security-note {
            background: rgba(0, 188, 212, 0.1);
            border: 1px solid rgba(0, 188, 212, 0.3);
            border-radius: 20px;
            padding: 22px;
            text-align: left;
            transition: transform 0.3s ease-in-out;
        }

        .security-note:hover {
            transform: scale(1.03);
        }

        .security-note strong {
            display: block;
            margin-bottom: 14px;
            font-weight: 700;
            color: #00BCD4;
            font-size: 15px;
            text-shadow: 0 0 12px rgba(0, 188, 212, 0.5);
        }

        .security-list {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .security-list li {
            position: relative;
            padding-left: 28px;
            margin-bottom: 9px;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.85);
        }

        .security-list li::before {
            content: '>';
            position: absolute;
            left: 0;
            color: #00BCD4;
            font-weight: bold;
            text-shadow: 0 0 6px rgba(0, 188, 212, 0.7);
        }

        /* Футер */
        .footer-box {
            background: rgba(30, 30, 30, 0.6);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 14px 24px;
            text-align: center;
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease-in-out;
            cursor: pointer;
        }

        .footer-box:hover {
            transform: scale(1.05);
        }

        .footer-content {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .footer-link {
            color: #00BCD4;
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
            text-shadow: 0 0 12px rgba(0, 188, 212, 0.6);
        }

        .footer-link:hover {
            color: #ff0080;
            text-shadow: 0 0 15px rgba(255, 0, 128, 0.7);
            transform: translateY(-2px);
        }

        .verified-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 18px;
            height: 18px;
            background: linear-gradient(135deg, #00BCD4, #4CAF50);
            border-radius: 50%;
            color: #000;
            font-size: 9px;
            font-weight: bold;
            box-shadow: 0 0 12px rgba(0, 188, 212, 0.6);
        }

        /* Новые стили для поиска */
        .search-container {
            width: 100%;
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 12px 16px;
            font-size: 16px;
            background: rgba(30, 30, 30, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: white;
            margin-bottom: 10px;
        }

        .search-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .search-btn {
            flex: 1;
            padding: 10px;
            background: linear-gradient(135deg, #00BCD4, #4CAF50);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        .clear-btn {
            flex: 1;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            cursor: pointer;
        }

        .search-results {
            width: 100%;
            max-height: 300px;
            overflow-y: auto;
            background: rgba(30, 30, 30, 0.7);
            border-radius: 10px;
            padding: 15px;
            margin-top: 10px;
        }

        .film-item {
            display: flex;
            gap: 15px;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: background 0.2s;
        }

        .film-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .film-poster img {
            width: 60px;
            height: 90px;
            object-fit: cover;
            border-radius: 5px;
        }

        .film-info {
            flex: 1;
        }

        .film-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: #00BCD4;
        }

        .film-year, .film-rating {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
        }

        .selected-film {
            margin: 15px 0;
            padding: 10px;
            background: rgba(0, 188, 212, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(0, 188, 212, 0.3);
        }

        .loading, .error, .no-results {
            text-align: center;
            padding: 20px;
            color: rgba(255, 255, 255, 0.7);
        }

        .results-title {
            font-weight: 600;
            margin-bottom: 15px;
            color: #4CAF50;
        }

        /* Адаптивность */
        @media (max-width: 480px) {
            .warning-container {
                padding: 35px 30px;
                max-width: 400px;
            }

            .warning-title {
                font-size: 26px;
            }

            .button-group {
                flex-direction: column;
                gap: 15px;
            }

            .container {
                gap: 20px;
            }
            
            .film-item {
                flex-direction: column;
                text-align: center;
            }
            
            .film-poster {
                align-self: center;
            }
        }
    

.button-group{display:flex;gap:12px;justify-content:center;margin:12px 0;}
.btn{padding:10px 16px;border:none;border-radius:8px;cursor:pointer;transition:0.2s;}
.btn-primary{background:#4CAF50;color:#fff;}
.btn-primary:hover{opacity:0.9;}
.btn-secondary{background:rgba(255,255,255,0.12);color:#fff;}
.btn-secondary:hover{background:rgba(255,255,255,0.2);}
.loading, .error{padding:12px;text-align:center;margin:8px 0;}
.catalog-rating{font-size:13px;opacity:0.9;margin-top:4px;}
.sticky-progress{position:sticky;top:8px;text-align:center;margin:8px 0;font-size:14px;opacity:0.9;}
</style>
<style>
/* ===== Red-Black Theme Override ===== */
:root{
  --bg:#070707;
  --panel:#0f0f0f;
  --muted: rgba(255,255,255,0.7);
  --accent1: #ff2d2d;
  --accent2: #b30000;
  --accent3: #ff6b6b;
  --glass: rgba(255,255,255,0.03);
}

body {
  background: linear-gradient(180deg, #040404 0%, #0b0b0b 100%);
  color: #ffffff;
  font-family: 'Poppins', sans-serif;
}

/* Update animated background colors */
body::before {
    background:
        radial-gradient(circle at 25% 25%, var(--accent1) 0%, transparent 45%),
        radial-gradient(circle at 75% 75%, var(--accent2) 0%, transparent 45%),
        radial-gradient(circle at 50% 50%, rgba(255,107,107,0.8) 0%, transparent 40%);
    opacity: 0.12;
    filter: blur(100px);
}

/* Warning container restyle */
.warning-container {
    background: linear-gradient(180deg, rgba(20,6,6,0.65), rgba(12,2,2,0.6));
    border: 1px solid rgba(255,45,45,0.08);
    box-shadow: 0 20px 50px rgba(179,0,0,0.25);
    color: #fff;
}

/* Accent icon */
.warning-icon {
    background: linear-gradient(135deg, var(--accent1), var(--accent2));
    box-shadow: 0 10px 30px rgba(179,0,0,0.35);
}

/* Titles and links */
.warning-title, .catalog-title {
    background: linear-gradient(90deg, var(--accent1), var(--accent3));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 4px 30px rgba(179,0,0,0.18);
}

.footer-link { color: var(--accent1); }
.footer-link:hover { color: var(--accent3); transform: translateY(-2px); }

/* Buttons */
.btn-primary {
    background: linear-gradient(90deg, var(--accent1), var(--accent2));
    box-shadow: 0 10px 30px rgba(179,0,0,0.25);
    color: #fff;
}
.btn-secondary {
    background: linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    color: var(--muted);
    border: 1px solid rgba(255,255,255,0.06);
}

/* Filter buttons */
.filter-btn {
    background: transparent;
    border: 1px solid rgba(255,255,255,0.06);
    color: var(--muted);
    transition: all .18s;
}
.filter-btn.active {
    background: linear-gradient(90deg, rgba(255,45,45,0.14), rgba(179,0,0,0.18));
    border-color: rgba(255,45,45,0.5);
    color: #fff;
    box-shadow: 0 6px 18px rgba(179,0,0,0.18);
}

/* Catalog cards */
.catalog-item {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border: 1px solid rgba(255,255,255,0.03);
    transition: transform .22s, box-shadow .22s;
}
.catalog-item:hover {
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 16px 40px rgba(179,0,0,0.15);
}
.catalog-item img { border-bottom: 1px solid rgba(255,255,255,0.03); }

.catalog-info { background: linear-gradient(180deg, rgba(0,0,0,0.3), rgba(0,0,0,0.5)); }

.catalog-title-item { color: #ffb3b3; }

.catalog-year, .catalog-rating { color: rgba(255,255,255,0.7); }

/* Search input */
.search-input, .link-url {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border: 1px solid rgba(255,255,255,0.06);
    color: #fff;
}

/* Progress and messages */
.loading, .error, .no-results {
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.03);
    color: var(--muted);
}

/* Footer boxes */
.footer-box {
    background: linear-gradient(180deg, rgba(12,2,2,0.6), rgba(6,1,1,0.5));
    border: 1px solid rgba(255,45,45,0.04);
    box-shadow: 0 12px 40px rgba(0,0,0,0.6);
}

/* Particles color tweak */
.particle {
    background: linear-gradient(to bottom, rgba(255,45,45,0.9), rgba(255,107,107,0.4));
}

/* Responsive tweaks */
@media (max-width: 480px) {
    .catalog-item img { height: 200px; }
    .warning-container { padding: 28px; }
}
/* ===== End theme ===== */
</style></head>
<body>
<!-- Падающие частицы -->
<div class="particle"></div>
<div class="particle"></div>
<div class="particle"></div>
<div class="particle"></div>
<div class="particle"></div>
<div class="particle"></div>
<div class="particle"></div>
<div class="particle"></div>
<div class="container">
<div class="warning-container">
<!-- Иконка предупреждения -->
<div class="warning-icon">
<svg fill="currentColor" viewbox="0 0 20 20">
<path clip-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" fill-rule="evenodd"></path>
</svg>
</div>
<!-- Заголовок предупреждения -->
<h1 class="warning-title">ВНИМАНИЕ!</h1>
<!-- Текст предупреждения -->
<p class="warning-text">
            ВЫ НА САЙТЕ KINO FAP ГДЕ ВЫ МОЖЕТЕ СМОТРЕТЬ ФИЛЬМЫ БЕЗ РЕКЛАМЫ И ОГРАНИЧЕНИЙ        </p>
<!-- Поиск по названию -->
<div class="link-container">
<div class="link-label">Или введите ID Кинопоиска вручную</div>
<input class="link-url" id="kpIdInput" placeholder="Введите ID Кинопоиска" type="text"/>
<div class="link-label">Поиск по названию фильма или сериала</div>
<input class="search-input" id="searchInput" placeholder="Например: Папины дочки" type="text"/>
</div>
<div class="search-buttons">
<button class="search-btn" onclick="searchContent()">Найти</button>
<button class="clear-btn" onclick="clearSearch()">Очистить</button>
</div>
<div class="search-results" id="searchResults"></div>
<div class="selected-film" id="selectedFilm"></div>
</div>
<!-- Кнопки -->
<div class="button-group">
<button class="btn btn-primary" onclick="openPlayer()">Смотреть</button>
</div>
<!-- Модальное окно плеера -->
<div class="modal" id="playerModal">
<div class="modal-content">
<span class="close-button" onclick="closePlayer()">×</span>
<iframe allowfullscreen="" frameborder="0" id="playerIframe" src=""></iframe>
</div>
</div>
<!-- Советы безопасности -->
<div class="security-note">
<strong>Советы для безопасного просмотра фильмов и сериалов:</strong>
<ul class="security-list">
<li>Чистите кеш или куки браузера или приложения.</li>
<li>Убедитесь, что соединение защищено (HTTPS).</li>
<li>Не Размещайте наш скрипт по просмотру фильмов и сериалов. в социальных сетях</li>
<li>Не Размещайте наш скрипт без указания авторов.</li>
<li>Если Хотите поделиться скриптом, с другом сделайте совмесный просмотр через сторонние приложения.</li>
</ul>
</div>
</div>
<!-- Каталог фильмов -->
<style>
.catalog { margin-top:40px;width:100%; }
.catalog-title { font-size:24px;margin-bottom:20px;color:#4CAF50;text-align:center; }
.catalog-grid { display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:20px; }
.catalog-item { background:rgba(255,255,255,0.05);border-radius:10px;overflow:hidden;cursor:pointer;transition:transform .3s,background .3s; }
.catalog-item:hover { transform:scale(1.05);background:rgba(255,255,255,0.1); }
.catalog-item img { width:100%;height:240px;object-fit:cover; }
.catalog-info { padding:10px; }
.catalog-title-item { font-weight:600;color:#00BCD4;margin-bottom:5px; }
.catalog-year { font-size:14px;color:rgba(255,255,255,0.7); }
</style>
<!-- Каталог фильмов -->
<style>
.catalog { margin-top:40px;width:100%; }
.catalog-title { font-size:24px;margin:30px 0 15px;color:#4CAF50;text-align:left; }
.catalog-grid { display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:20px; }
.catalog-item { background:rgba(255,255,255,0.05);border-radius:10px;overflow:hidden;cursor:pointer;transition:transform .3s,background .3s; }
.catalog-item:hover { transform:scale(1.05);background:rgba(255,255,255,0.1); }
.catalog-item img { width:100%;height:240px;object-fit:cover; }
.catalog-info { padding:10px; }
.catalog-title-item { font-weight:600;color:#00BCD4;margin-bottom:5px; }
.catalog-year { font-size:14px;color:rgba(255,255,255,0.7); }
</style>
<!-- Кнопки фильтрации -->
<div class="filter-buttons">
<button class="filter-btn active" onclick="filterCategory('all')">Все</button>
<button class="filter-btn" onclick="filterCategory('films')">Фильмы</button>
<button class="filter-btn" onclick="filterCategory('series')">Сериалы</button>
<button class="filter-btn" onclick="filterCategory('soviet')">Советские</button>
</div>
<div class="button-group">
<button class="btn btn-primary" onclick="getTopFilms()">Показать 1000 популярных фильмов</button>
<button class="btn btn-secondary" onclick="clearTopFilms()">Очистить список</button>
</div>
<div class="catalog-grid" id="topFilms" style="margin-top:10px;"></div>
<!-- Каталог фильмов -->
<div class="catalog">
<div class="catalog-category films active">
<h2 class="catalog-title">🎬 Топ фильмов</h2>
<div class="catalog-grid">
<div class="catalog-item" onclick="selectAndPlay(301, 'Матрица')">
<img alt="Матрица" src="https://st.kp.yandex.net/images/film_big/301.jpg"/>
<div class="catalog-info"><div class="catalog-title-item">Матрица</div><div class="catalog-year">1999</div></div>
</div>
<div class="catalog-item" onclick="selectAndPlay(326, 'Властелин колец: Братство кольца')">
<img alt="Властелин колец" src="https://st.kp.yandex.net/images/film_big/326.jpg"/>
<div class="catalog-info"><div class="catalog-title-item">Властелин колец: Братство кольца</div><div class="catalog-year">2001</div></div>
</div>
<div class="catalog-item" onclick="selectAndPlay(448, 'Форрест Гамп')">
<img alt="Форрест Гамп" src="https://st.kp.yandex.net/images/film_big/448.jpg"/>
<div class="catalog-info"><div class="catalog-title-item">Форрест Гамп</div><div class="catalog-year">1994</div></div>
</div>
</div>
</div>
<div class="catalog-category series">
<h2 class="catalog-title">📺 Сериалы</h2>
<div class="catalog-grid">
<div class="catalog-item" onclick="selectAndPlay(464963, 'Игра престолов')">
<img alt="Игра престолов" src="https://st.kp.yandex.net/images/film_big/464963.jpg"/>
<div class="catalog-info"><div class="catalog-title-item">Игра престолов</div><div class="catalog-year">2011</div></div>
</div>
<div class="catalog-item" onclick="selectAndPlay(1236393, 'Очень странные дела')">
<img alt="Очень странные дела" src="https://st.kp.yandex.net/images/film_big/1236393.jpg"/>
<div class="catalog-info"><div class="catalog-title-item">Очень странные дела</div><div class="catalog-year">2016</div></div>
</div>
</div>
</div>
<div class="catalog-category soviet">
<h2 class="catalog-title">🇷🇺 Советские фильмы</h2>
<div class="catalog-grid">
<div class="catalog-item" onclick="selectAndPlay(7722, 'Ирония судьбы')">
<img alt="Ирония судьбы" src="https://st.kp.yandex.net/images/film_big/7722.jpg"/>
<div class="catalog-info"><div class="catalog-title-item">Ирония судьбы</div><div class="catalog-year">1975</div></div>
</div>
<div class="catalog-item" onclick="selectAndPlay(42782, 'Бриллиантовая рука')">
<img alt="Бриллиантовая рука" src="https://st.kp.yandex.net/images/film_big/42782.jpg"/>
<div class="catalog-info"><div class="catalog-title-item">Бриллиантовая рука</div><div class="catalog-year">1969</div></div>
</div>
</div>
</div>
</div>
<style>
.filter-buttons { display:flex;gap:12px;margin:20px 0;justify-content:center; }
.filter-btn { padding:10px 20px;border-radius:8px;border:none;cursor:pointer;background:rgba(255,255,255,0.1);color:white;transition:0.3s; }
.filter-btn:hover { background:#00BCD4; }
.filter-btn.active { background:#4CAF50; }
.catalog-category { display:none; }
.catalog-category.active { display:block; }
.catalog { margin-top:40px;width:100%; }
.catalog-title { font-size:24px;margin:30px 0 15px;color:#4CAF50;text-align:left; }
.catalog-grid { display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:20px; }
.catalog-item { background:rgba(255,255,255,0.05);border-radius:10px;overflow:hidden;cursor:pointer;transition:transform .3s,background .3s; }
.catalog-item:hover { transform:scale(1.05);background:rgba(255,255,255,0.1); }
.catalog-item img { width:100%;height:240px;object-fit:cover; }
.catalog-info { padding:10px; }
.catalog-title-item { font-weight:600;color:#00BCD4;margin-bottom:5px; }
.catalog-year { font-size:14px;color:rgba(255,255,255,0.7); }
</style>
<div class="footer-box">
<div class="footer-content">
            разработано
            <a class="footer-link" href="@OWNER_AIR" rel="noopener noreferrer" target="_blank">
                OWNER_AIR
                <span class="OWNER_AIR">V</span>
</a>
</div>
</div>
<div class="footer-box">
<div class="footer-content">
           Мой тг
            <a class="footer-link" href="https://t.me/OWNER_AIR" rel="noopener noreferrer" target="_blank">
                @OWNER_AIR
                <span class="https://t.me/OWNER_AIR">A</span>
</a>
</div>
</div>
<div class="footer-box">
<div class="footer-content">
            Единственый разработчик
            <a class="footer-link" href="https://t.me/OWNER_AIR" rel="noopener noreferrer" target="_blank">
                KINO_FAP
                <span class="verified-badge">V</span>
</a>
</div>
</div>
<div class="footer-box">
<div class="footer-content">
            обновление
            <a class="footer-link" href="NONAME" rel="noopener noreferrer" target="_blank">
                AIR
                <span class="verified-badge">V</span>
</a>
</div>
</div>
<div class="footer-box">
<div class="footer-content">
            Сделано лично мною
            <a class="footer-link" href="https://t.me/OWNER_AIR" rel="noopener noreferrer" target="_blank">
            
</a>
</div>
</div>
<script>
    // Задержка для частиц
    const particles = document.querySelectorAll('.particle');
    particles.forEach(particle => {
        const delay = Math.random() * 5;
        particle.style.animationDelay = `${delay}s`;
    });

    // Обработка нажатия Enter в поле поиска
    document.getElementById('searchInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            searchContent();
        }
    });
</script>
</body>
</html>